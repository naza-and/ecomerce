<!DOCTYPE html>
<html lang="en">
  <head>
 <link rel="stylesheet" href="./css/bootstrap.min.css">
 <script src="./js/bootstrap.min.js"></script>
 <link rel="stylesheet" href="./css/front.css">
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Los Juegos Capitales</title>
    <script>
      const retrieveData = () => {
          fetch(
            "http://localhost/ecomerce/server/productos",
            {
              headers: { "Content-Type": "application/json" },
            }
          )
                  
            .then((res) => res.json())
            .then((data) => {
              console.log(data);

              const divContainer = document.getElementById("card-deck");

              data.map((producto => {
                  const cont = document.createElement("div");
                  cont.className += "card"; 
                  const cajaimg = document.createElement("div");
                  cajaimg.className += "card-img-top";
                  const img = document.createElement("img");
                  img.src= "http://localhost/ecomerce/"+ producto.imagen;
                  const content = document.createElement("div");
                  content.className += "card-body";
                  const titulo = document.createElement("card-title");
                  titulo.innerText = producto.nombrep;
                  const descripcion = document.createElement("card-text");
                  descripcion.innerText= "categoria: "+producto.categoria;
                  const precio = document.createElement("card-text");
                  precio.innerText= "precio: $"+ producto.precio;
                  
                  cajaimg.appendChild(img);
                  cont.appendChild(cajaimg);
                  cont.appendChild(content);
                  
                  content.appendChild(titulo);
                  content.appendChild(descripcion);
                  content.appendChild(precio);
                  divContainer.appendChild(cont);
  
              }))
              
            });
        };
      
      document.addEventListener("DOMContentLoaded", function (event) {
        // const button = document.querySelector(".button");
        // button.addEventListener("click", () => {
         retrieveData();
        // });
        //Las peticiones se hacen a la uri del server segun las rutas definidas
      });
    </script>
      <!--Este es el top del menu-->
      <!--Aca empieza-->
      <nav class="navbar navbar-expand-lg navbar-dark  bg-dark">
        <!--Este es el logo-->
        <a class="navbar-brand" href="./client/front.html"><img class="logo-top" src="F:\xampp\htdocs\ecomerce\imgs\GGameslogo.png"></a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
      <!--Estos son los botones-->

        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav mr-auto">
            <li class="nav-item ">
              <a class="nav-link" href="#">Menu<span class="sr-only">(current)</span></a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#">Noticias</a>
            </li>
            <li class="nav-item">
              <a class="nav-link " href="#">Juegos</a>
            </li>
            <!--Esto es un boton desplegable-->
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Categorias
              </a>
              <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                <a class="dropdown-item" href="www.google.com">Accion</a>
                <a class="dropdown-item" href="www.google.com">Aventura</a>
                <a class="dropdown-item" href="www.google.com">Clasicos</a>
                <a class="dropdown-item" href="www.google.com">Familia</a>                
                <a class="dropdown-item" href="www.google.com">Terror</a>
                <div class="dropdown-divider"></div>
                <a class="dropdown-item" href="www.google.com">Algo mas...</a>
              </div>
            </li>
          </ul>
         <!--Esto es un buscador-->
          <form class="form-inline my-2 my-lg-0">
            <input class="form-control mr-sm-2" type="search" placeholder="Buscar" aria-label="Search">
            <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Buscar</button>
          </form>
        </div>
      </nav>
  <!--Aca termina el top-->
  </head>

  <body class="body">
    <!-- <div class="d-flex justify-content-center">
      <img class="subimg" src="F:\xampp\htdocs\ecomerce\imgs\logobody.png">
      <img class="datos" src="F:\xampp\htdocs\ecomerce\imgs\logobody.png">
      <img class="subimg" src="F:\xampp\htdocs\ecomerce\imgs\logobody.png">
    </div>
     -->
    <!--Estas son las tarjetas-->
        <div id="card-deck" class="card-deck">
  

        </div>
    
    </div >
  <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
</body> 

</html>
